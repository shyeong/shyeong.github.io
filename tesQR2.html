<html>

<script src="js/qr_packed.js">
</script>
<input type=text size=16 placeholder="Tracking Code" class=qrcode-text>
<!-- <label class=qrcode-text-btn><input type=file accept="image/*" capture 
onclick="return showQRIntro();" onchange="openQRCamera(this);" tabindex=-1>

</label>  -->

<label class=qrcode-text-btn><input type=file accept="image/*" capture 
 onchange="openQRCamera(this);" tabindex=-1>

</label> 

<input type=button value="Go" disabled>

<script>
function openQRCamera(node) {
  var reader = new FileReader();
  reader.onload = function() {
    node.value = "";
    qrcode.callback = function(res) {
       if(res instanceof Error) {
        alert("No QR code found. Please make sure the QR code is within the camera's frame and try again.");
      } else {
        node.parentNode.previousElementSibling.value = res;
      }  
    };
    qrcode.decode(reader.result);
  };
  reader.readAsDataURL(node.files[0]);
}

function showQRIntro() {
  return confirm("Use your camera to take a picture of a QR code.");
}


</script>

<script  src="js/index.js"></script>
</html>



